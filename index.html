<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Result Login</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f2f2;
}
.box{
  width:330px;
  margin:100px auto;
  background:#fff;
  padding:20px;
  border-radius:8px;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
}
input,button{
  width:100%;
  padding:10px;
  margin-top:10px;
  font-size:15px;
}
button{
  background:#007bff;
  color:white;
  border:none;
  cursor:pointer;
}
#captcha{
  font-weight:bold;
  letter-spacing:3px;
  background:#eee;
  padding:8px;
  text-align:center;
  margin-top:10px;
}
.pass-box{
  position:relative;
}
.eye{
  position:absolute;
  right:10px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  font-size:16px;
  user-select:none;
}
</style>
</head>

<body>

<div class="box">
  <h3>Result Login</h3>

  <input id="app" type="text" inputmode="numeric" placeholder="Application Number">

  <div class="pass-box">
    <input id="pass" type="password" placeholder="Password">
    <span class="eye" onclick="togglePass()">üëÅÔ∏è</span>
  </div>

  <div id="captcha"></div>
  <input id="captchaInput" type="text" placeholder="Enter Captcha">

  <button onclick="login()">Login</button>
</div>

<script>
/* ===== DATABASE ===== */
const db = {
  "260310087055": {
    password: "@Tushar638",
    pdf: "260310087055.pdf"
  }
};

/* ===== CAPTCHA ===== */
function genCaptcha(){
  const c = Math.floor(1000 + Math.random() * 9000);
  document.getElementById("captcha").innerText = c;
}
genCaptcha();

/* ===== PASSWORD EYE TOGGLE ===== */
function togglePass(){
  const p = document.getElementById("pass");
  p.type = (p.type === "password") ? "text" : "password";
}

/* ===== LOGIN FUNCTION (FULLY FIXED) ===== */
function login(){

  const app = String(
    document.getElementById("app").value
  ).replace(/\s+/g,"");

  const pass = document.getElementById("pass").value.trim();
  const capIn = document.getElementById("captchaInput").value.trim();
  const cap = document.getElementById("captcha").innerText;

  if(app === "" || pass === ""){
    alert("Please fill all fields");
    return;
  }

  if(capIn !== cap){
    alert("Captcha incorrect");
    genCaptcha();
    return;
  }

  if(!db.hasOwnProperty(app) || db[app].password !== pass){
    alert("INVALID APPLICATION OR PASSWORD");
    return;
  }

  window.open(db[app].pdf,"_blank");
}
</script>

</body>
</html>

